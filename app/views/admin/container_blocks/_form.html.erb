<div class="flex flex-col gap-6" data-controller="container-block-form">
  <%= form_with model: [:admin, project, container_block], class: "flex flex-col gap-6" do |form| %>
    <%= form.hidden_field :position, id: dom_id(container_block, :position) %>
    <%= form.hidden_field :class_list, value: "grid", multiple: true %>
    <%= form.hidden_field :class_list, value: "grid-cols-auto", multiple: true %>

    <div class="grid grid-cols-3 gap-4">
      <div>
        <%= label_tag nil, class: "flex flex-col gap-2 items-center text-gray-400 px-4 py-2 cursor-pointer rounded border has-[:checked]:bg-slate-100 has-[:checked]:text-slate-800" do %>
          <%=
            checkbox_tag "container_block[class_list][]",
            value: "gap-2",
            class: "hidden",
            checked: container_block.class_list.include?("gap-2"),
            data: {
              type: "gap",
              action: "change->container-block-form#updateClassList",
              "container-block-form-target": "classListInput"
            }
          %>
          <%= t("small_gap") %>
          <div class="flex w-full justify-center gap-2">
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
          </div>
        <% end %>
      </div>
      <div>
        <%= label_tag nil, class: "flex flex-col gap-2 items-center text-gray-400 px-4 py-2 cursor-pointer rounded border has-[:checked]:bg-slate-100 has-[:checked]:text-slate-800" do %>
          <%=
            checkbox_tag "container_block[class_list][]",
            value: "gap-6",
            class: "hidden",
            checked: container_block.class_list.include?("gap-6"),
            data: {
              type: "gap",
              action: "change->container-block-form#updateClassList",
              "container-block-form-target": "classListInput"
            }
          %>
          <%= t("medium_gap") %>
          <div class="flex w-full justify-center gap-6">
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
          </div>
        <% end %>
      </div>
      <div>
        <%= label_tag nil, class: "flex flex-col gap-2 items-center text-gray-400 px-4 py-2 cursor-pointer rounded border has-[:checked]:bg-slate-100 has-[:checked]:text-slate-800" do %>
          <%=
            checkbox_tag "container_block[class_list][]",
            value: "gap-10",
            class: "hidden",
            checked: container_block.class_list.include?("gap-10"),
            data: {
              type: "gap",
              action: "change->container-block-form#updateClassList",
              "container-block-form-target": "classListInput"
            }
          %>
          <%= t("large_gap") %>
          <div class="flex w-full justify-center gap-10">
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
            <div class="w-4 h-4 border border-slate-800 rounded"></div>
          </div>
        <% end %>
      </div>
    </div>

    <div class="pt-3 border-t">
      <p class="mb-3 text-sm text-gray-400"><%= t("Preview") %> :</p>
      <div class="bg-slate-100 rounded p-4">
        <div class="<%= container_block.class_list.join(" ") %>" data-container-block-form-target="containerPreview">
          <div class="w-full h-10 bg-slate-300 rounded"></div>
          <div class="w-full h-10 bg-slate-300 rounded"></div>
          <div class="w-full h-10 bg-slate-300 rounded"></div>
        </div>
      </div>
    </div>

    <%= form.submit class: "admin-btn-primary cursor-pointer", data: { action: "click->modal#closeModal" } %>
  <% end %>
</div>